components:
  responses:
    BasicApiResponse:
      content:
        application/json:
          schema:
            $ref: '#components/schemas/BasicApiResponse'

  schemas:
    ApiResponse:
      type: object
      properties:
        message:
          type: string
        data:
          description: Response data (type varies by endpoint)
      additionalProperties: false

    ApiResponseError:
      allOf:
        - $ref: '#/components/schemas/ApiResponse'
        - type: object
          properties:
            message:
              type: string
              example: 'An error occurred'
            data:
              type: 'null'
              example: null

    ImageUri:
      type: string
      description: |
        Either a filename to search in the backend's own file store, or an URL to an image in an external storage server.
        May be used for game images or small icons.

    Franchise:
      type: object
      description: Set of games related by a common series or character
      properties:
        id:
          type: number
        name:
          type: string
        games:
          type: array
          items:
            $ref: '#/components/schemas/Game'

    Game:
      type: object
      properties:
        id:
          type: number
        title:
          type: string
        synopsis:
          type: string
          description: A brief description of the game.
        releaseDate:
          type: string
          format: date
        portrait:
          $ref: '#/components/schemas/ImageUri'
        banner:
          $ref: '#/components/schemas/ImageUri'
        cumulativeRating:
          type: number
          description: |
            The average rating of the game, calculated from all user reviews.
            This is a number between 0 and 5.
        reviewCount:
          type: number
        pictures:
          type: array
          items:
            $ref: '#/components/schemas/ImageUri'
          description: A list of images related to the game, such as screenshots or promotional art.
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'

    Tag:
      type: object
      description: |
        A tag that can be associated with games to categorize them.
        It may relate to genres, themes, or technical aspects of the games.
      properties:
        id:
          type: number
          description: Unique identifier for the tag
        name:
          type: string
          description: Name of the tag (must be unique)
        description:
          type: string
          description: Description of what this tag represents
      required:
        - id
        - name
        - description
      example:
        id: 1
        name: 'Action'
        description: 'Fast-paced games with combat and adventure elements'
        games: []

    Platform:
      type: object
      description: |
        A hardware platform or gaming system that can run games.
        Examples include consoles, PC, mobile devices, etc.
      properties:
        id:
          type: number
          description: Unique identifier for the platform
        name:
          type: string
          description: Name of the platform (must be unique)
        img:
          $ref: '#/components/schemas/ImageUri'
          description: Image representing the platform (logo or icon)
        games:
          type: array
          items:
            $ref: '#/components/schemas/Game'
          description: Games available on this platform
      required:
        - id
        - name
      example:
        id: 1
        name: 'PlayStation 5'
        img: 'ps5-logo.png'
        games: []

    Studio:
      type: object
      description: |
        A game development studio or publisher that creates or distributes games.
        Can be a developer, publisher, or both.
      properties:
        id:
          type: number
          description: Unique identifier for the studio
        name:
          type: string
          description: Name of the studio (must be unique)
        type:
          type: string
          enum: ['Developer', 'Publisher', 'Both']
          description: Type of studio - Developer, Publisher, or Both
        site:
          type: string
          format: uri
          description: Official website URL of the studio (must be unique)
        games:
          type: array
          items:
            $ref: '#/components/schemas/Game'
          description: Games developed or published by this studio
      required:
        - id
        - name
        - type
        - site
      example:
        id: 1
        name: 'Nintendo'
        type: 'Both'
        site: 'https://www.nintendo.com'
        games: []

  tags:
    - name: Franchise
      description: Game series
    - name: Game
      description: Individual games
    - name: Platform
      description: Hardware platforms
    - name: Playlist
      description: User-created game lists
    - name: Review
      description: User reviews and ratings
    - name: Shop
      description: Game stores
    - name: Studio
      description: Game development studios and publishers
    - name: Tag
      description: Game categorization tags
    - name: User
      description: User accounts and profiles
    - name: GamePicture
      description: Game-related images (file uploads)
